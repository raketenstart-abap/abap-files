*&---------------------------------------------------------------------*
*& Report ZTEST_FILE_DOWNLOAD
*&---------------------------------------------------------------------*
*&
*&---------------------------------------------------------------------*
REPORT ztest_pdf_download.

CLASS lcl DEFINITION
  CREATE PRIVATE.

  PUBLIC SECTION.
    CLASS-METHODS
      get_instance
        RETURNING VALUE(result) TYPE REF TO lcl.

    METHODS
      create_pdf_file
        RETURNING VALUE(result) TYPE REF TO zca_file.

ENDCLASS.

CLASS lcl IMPLEMENTATION.

  METHOD get_instance.
    CREATE OBJECT result.
  ENDMETHOD.

  METHOD create_pdf_file.

    DATA(lv_file_raw) = CONV zde_file_rawstring(
         '255044462D312E360D25E2E3CFD30D0A32322030206F626A0A3C3C2F46696C7465722F466C6174'
      && '654465636F64652F46697273742035362F4C656E677468203230372F4E20392F547970652F4F62'
      && '6A53746D3E3E73747265616D0D0A68DE7C8FCB0AC23014447F6596BA4A6E1E6D05E9CA9D0F4ADB'
      && '9DB828128AA0B69428FAF7DEA67123D8D5C09CC94C6E02891499450652162B50A240128AD82028'
      && '93B20F9526200D2D2DC8406B83F55A6CF9A144298A6670775F0FCE81EC8F73702FBF756F9028BB'
      && 'ABDB373D681522F5BB77A2F2C3E31C7265D7F93C0FA559E0BBE6DE2E7ABF140592605462D39D1F'
      && '37EE8DB9A9A7889FA878B475A25E8C025A4EA1235FC274BC24889A444F6246397145F65DB83C63'
      && 'B964370EB4B0DF8508690EAA39A8E7A0F9033F020C0070EC646D0A656E6473747265616D0A656E'
      && '646F626A0A32332030206F626A0A3C3C2F46696C7465722F466C6174654465636F64652F466972'
      && '73742031312F4C656E6774682035352F4E20322F547970652F4F626A53746D3E3E73747265616D'
      && '0D0A68DE323455305030345330B454B0B1D1F72BCD2D8E06F30D148262EDECA20D0D402C054343'
      && '086504A18C219409581540800100DA010DD00A656E6473747265616D0A656E646F626A0A323420'
      && '30206F626A0A3C3C2F46696C7465722F466C6174654465636F64652F466972737420392F4C656E'
      && '677468203136302F4E20322F547970652F4F626A53746D3E3E73747265616D0D0A68DE448EC10A'
      && '83400C447F255FD0EC2A560AB287B6782905D1BD8914ABA17871CB2682FDFB467BE8211398993C'
      && '9282810CD20C8A022F6199052CDEA691DB4C83BA43FF791356FD8BD8B9BD320BCDC290982DC73B'
      && '8D537F0E6B6B0E6AE81C6DA29A9F543BBD8B5A8674AFD6C4618903B1624AC5E8F2F661C0E65BEC'
      && '1C56310C0D498BD5B5444FAB746A361297417E200683BE7F3236FFB79CFB0A3000E9ED395F0A65'
      && '6E6473747265616D0A656E646F626A0A32352030206F626A0A3C3C2F46696C7465722F466C6174'
      && '654465636F64652F466972737420352F4C656E6774682037382F4E20312F547970652F4F626A53'
      && '746D3E3E73747265616D0D0A68DE3234573050B0B1D1774A2C4E75CBCF2BD1F748CD294B2DC94C'
      && '4ED475CACF49D177CD4BCE4FC9CC4BD70FCFCC73CC2BCE84F3834B934A2A0B52F54380842198D4'
      && '07E9B7B30308300076551C990A656E6473747265616D0A656E646F626A0A312030206F626A0A3C'
      && '3C2F4163726F466F726D203138203020522F4D61726B496E666F3C3C2F4D61726B656420747275'
      && '653E3E2F4D657461646174612032203020522F50616765732033203020522F5374727563745472'
      && '6565526F6F742036203020522F547970652F436174616C6F673E3E0A656E646F626A0A32203020'
      && '6F626A0A3C3C2F4C656E67746820333531392F537562747970652F584D4C2F547970652F4D6574'
      && '61646174613E3E73747265616D0D0A3C3F787061636B657420626567696E3D22EFBBBF22206964'
      && '3D2257354D304D7043656869487A7265537A4E54637A6B633964223F3E0A3C783A786D706D6574'
      && '6120786D6C6E733A783D2261646F62653A6E733A6D6574612F2220783A786D70746B3D2241646F'
      && '626520584D5020436F726520352E362D633031362037392E663034306635642C20323032322F30'
      && '332F33312D31313A30383A34382020202020202020223E0A2020203C7264663A52444620786D6C'
      && '6E733A7264663D22687474703A2F2F7777772E77332E6F72672F313939392F30322F32322D7264'
      && '662D73796E7461782D6E7323223E0A2020202020203C7264663A4465736372697074696F6E2072'
      && '64663A61626F75743D22220A202020202020202020202020786D6C6E733A786D703D2268747470'
      && '3A2F2F6E732E61646F62652E636F6D2F7861702F312E302F220A20202020202020202020202078'
      && '6D6C6E733A7064663D22687474703A2F2F6E732E61646F62652E636F6D2F7064662F312E332F22'
      && '0A202020202020202020202020786D6C6E733A786D704D4D3D22687474703A2F2F6E732E61646F'
      && '62652E636F6D2F7861702F312E302F6D6D2F220A202020202020202020202020786D6C6E733A70'
      && '6466756169643D22687474703A2F2F7777772E6169696D2E6F72672F70646675612F6E732F6964'
      && '2F220A202020202020202020202020786D6C6E733A64633D22687474703A2F2F7075726C2E6F72'
      && '672F64632F656C656D656E74732F312E312F220A202020202020202020202020786D6C6E733A64'
      && '6573633D22687474703A2F2F6E732E61646F62652E636F6D2F7866612F70726F6D6F7465642D64'
      && '6573632F223E0A2020202020202020203C786D703A4D65746164617461446174653E323032332D'
      && '31322D31395431323A30373A30325A3C2F786D703A4D65746164617461446174653E0A20202020'
      && '20202020203C786D703A43726561746F72546F6F6C3E41646F6265204C6976654379636C652044'
      && '657369676E65722031312E303C2F786D703A43726561746F72546F6F6C3E0A2020202020202020'
      && '203C786D703A4D6F64696679446174653E323032332D31322D31395431323A30373A30325A3C2F'
      && '786D703A4D6F64696679446174653E0A2020202020202020203C786D703A437265617465446174'
      && '653E323032332D31322D31395431323A30373A30325A3C2F786D703A437265617465446174653E'
      && '0A2020202020202020203C7064663A50726F64756365723E41646F626520584D4C20466F726D20'
      && '4D6F64756C65204C6962726172793C2F7064663A50726F64756365723E0A202020202020202020'
      && '3C786D704D4D3A446F63756D656E7449443E757569643A37383235306561382D313730312D3466'
      && '62632D386665322D3131356230343633336436313C2F786D704D4D3A446F63756D656E7449443E'
      && '0A2020202020202020203C786D704D4D3A496E7374616E636549443E757569643A643862626332'
      && '33372D316464312D313162322D306130302D3562306330303030303030303C2F786D704D4D3A49'
      && '6E7374616E636549443E0A2020202020202020203C706466756169643A706172743E313C2F7064'
      && '66756169643A706172743E0A2020202020202020203C64633A666F726D61743E6170706C696361'
      && '74696F6E2F7064663C2F64633A666F726D61743E0A2020202020202020203C646573633A766572'
      && '73696F6E207264663A7061727365547970653D225265736F75726365223E0A2020202020202020'
      && '202020203C7264663A76616C75653E31312E302E392E32303232303231382E312E332E303C2F72'
      && '64663A76616C75653E0A2020202020202020202020203C646573633A7265663E2F74656D706C61'
      && '74652F737562666F726D5B315D3C2F646573633A7265663E0A2020202020202020203C2F646573'
      && '633A76657273696F6E3E0A2020202020203C2F7264663A4465736372697074696F6E3E0A202020'
      && '3C2F7264663A5244463E0A3C2F783A786D706D6574613E0A202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020200A20202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '2020202020202020202020202020202020202020202020202020202020200A2020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '20202020202020202020202020200A202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020200A20'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '2020202020202020202020202020202020202020200A2020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '20202020200A202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020200A20202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '2020202020202020202020200A2020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '20202020202020202020202020202020202020202020202020202020202020202020200A202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020200A20202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '2020200A2020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '20202020202020202020202020202020202020202020202020200A202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020200A20202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '2020202020202020202020202020202020202020202020202020202020202020200A2020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '20202020202020202020202020202020200A202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '200A20202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '2020202020202020202020202020202020202020202020200A2020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '20202020202020200A202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020200A20202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '202020202020202020202020202020202020202020202020202020202020202020202020202020'
      && '2020202020202020202020202020200A2020202020202020202020202020202020202020202020'
      && '202020200A3C3F787061636B657420656E643D2277223F3E0A656E6473747265616D0A656E646F'
      && '626A0A31382030206F626A0A3C3C2F44523C3C2F466F6E743C3C2F4865426F203137203020523E'
      && '3E3E3E3E3E0A656E646F626A0A31392030206F626A0A3C3C2F447261772F4469762F4669656C64'
      && '2F4469762F506167652F506172742F537562666F726D2F536563743E3E0A656E646F626A0A3230'
      && '2030206F626A0A3C3C2F46696C7465722F466C6174654465636F64652F4C656E67746820313534'
      && '3E3E73747265616D0D0A488994CD3B0BC2301405E0FDFE8A3BEA60F392A643E9D034834317BDBB'
      && '884689B40D84E0EF370A3E4010CA1DCE72BE7B5A0266C294DC94B0AE596F361D726C9AB633081C'
      && '1F172FC0B66E38247F73260C21FAD1A5E88F183D30127B8E02E90C5A3EDB39142F73F042941A69'
      && '8405E292AE60FBFCF1674B7CB656A210AA423AFD1772B650B3C5FA25725FEAEA9B91DDD11B5A82'
      && 'BB00030021514CCE0A656E6473747265616D0A656E646F626A0A32312030206F626A0A3C3C2F43'
      && '72656174696F6E4461746528443A32303233313231393132303730325A292F43726561746F7228'
      && '41646F6265204C6976654379636C652044657369676E65722031312E30292F4D6F644461746528'
      && '443A32303233313231393132303730325A292F50726F64756365722841646F626520584D4C2046'
      && '6F726D204D6F64756C65204C696272617279293E3E0A656E646F626A0A32362030206F626A0A3C'
      && '3C2F4465636F64655061726D733C3C2F436F6C756D6E7320342F507265646963746F722031323E'
      && '3E2F46696C7465722F466C6174654465636F64652F49445B3C4539433042424438443131444232'
      && '3131304130304430463541304332434246463E3C32384332424244384431314442323131304130'
      && '304430463543344334434246463E5D2F496E666F203231203020522F4C656E6774682038352F52'
      && '6F6F742031203020522F53697A652032372F547970652F585265662F575B31203220315D3E3E73'
      && '747265616D0D0A68DE626200022646E60A062606862A20EBAF1A03D33F86170C4C4C0C128C40B1'
      && '7FFF810403237104E30F188BE93FD37FC1274043190D4126DB8358F781C4DB2320962E486C0A88'
      && 'F5174808CA3200041800D2F40F360A656E6473747265616D0A656E646F626A0A73746172747872'
      && '65660A353039390A2525454F460A'
    ).

    DATA(ls_file_meta) = VALUE zst_file_props(
      name = 'test.pdf'
      raw  = lv_file_raw
    ).

    result = NEW zcl_file_pdf( ls_file_meta ).

  ENDMETHOD.

ENDCLASS.

START-OF-SELECTION.
  lcl=>get_instance( )->create_pdf_file( )->downloader( )->local( ).
